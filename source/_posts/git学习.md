---
title: git学习
date: 2024-01-30 18:37:35
categories: Computer
tags: git
cover: 1.jpeg
keywords: 'git'
description: git学习
top_img : 'linear-gradient(20deg, #81D8D0, #0095B6, #002FA7, #0F3053)'
---

> Git很重要
[学习网站链接](https://nulab.com/zh-cn/learn/software-development/git-tutorial/)

# 一、Git基础知识

**作用和定义**1
- Git是一个用于管理源代码的分布式版本控制系统。
    - 跟踪代码历史
    - 团队协作coding

**Git的三部曲**
- Git由三个组件构成：
    - Working tree：工作树，也就是现在的文件夹
    - Index：暂存区。暂存后，将工作树中的文件与存储库中的文件进行比较。对工作树中文件的更改在提交之前被标记为已修改。
    - Repository：存储代码文件
- Git的基本流程
    - Modify：修改工作树中的文件
    - Stage：暂存要包含在下一次提交中的更改
    - Commit：提交更改
- Git文件的三种状态：
    - Modified已修改
    - Staged已暂存
    - Committed已提交
![三部曲](02.png)

**存储库(Repository)**
- 存储库分为*本地存储库*和*远程存储库*
    - 本地存储库就可以进行版本控制和代码托管
    - 而团队协作仅能通过远程存储库进行

**Git提交**
- 工作树中所做的修改会在索引中注明修改
- 提交的每个更改都可以在相应的文件或目录中按时间顺序查看，40个字符的校验和哈希可唯一标识每个提交
- 提交模版：
    - 第一行：提交更改的内容摘要
    - 第二行：空行
    - 第三行：变更原因
- 还原变更：Git 最有价值的特性之一是能够撤销错误的操作
    - 使用``git revert``命令撤消以前的提交。Git revert 是撤消更改的最安全方法
    - 使用``git reset``可以移除不必要的提交

**修改提交**
- 修改上一次提交
    - ``git commit --amend``
    - 用于修改同一分支中的最新提交
    - 这个命令可以方便地将新的或更新的文件添加到上一次提交中
- 变基(Rebasing)
    - 变基是将在一个分支上提交的所有更改复制到新分支的过程。
    - ``git rebase -i``
- 将提交复制到其他分支
    - ``git cherry-pick``
    - 作用：
        - 将提交从错误的分支移动到正确的分支。
        - 根据另一个分支的现有提交，为当前分支添加提交。
- 合并提交
    - `` git merge --squash``
    - 将来自一个分支的所有提交组合在一起,然后合并到当前分支中。

**同步存储库**
- 指的是同步本地存储库和远程存储库
    - 推送更改：git push
        - 更新远程存储库并将其与本地存储库同步
    - 拉取更改：git pull
        - 将本地存储库与新更新的远程存储库重新同步
    - 合并更改：git merge
        - 如果本地存储库已过时，对远程存储库的推送将被拒绝
        - 在这种情况下，使用 git merge 命令在推送前整合远程分支的本地副本的最新修改。
        - 这种情况往往还需要手动解决一些冲突

**Git协作**
- 分支：Git 分支在本质上是一条独立的开发线。使用分支可以将每个成员的工作隔离开。
- 创建分支：
    - ``git branch``
    - 注意：创建新分支不会更改存储库；它只是一种提交。
- 导入分支：
    - ``git fetch``
    - 更改获取后，可以通过合并获取_HEAD 或执行拉取将这些更改应用到本地存储库。
- 分支的分类
    - 主分支main：默认分支
    - 功能分支：用于处理新功能和bug
    - 发布分支：    
        - 创建发布分支用于发行版本
        - 在命名发布分支时以前缀release-开头
        - 准备发布时，应将发布分支与主分支合并
    - 修补分支
        - 用于快速向生产代码库添加关键修复
        - 修补分支也应该与开发分支合并
        - 优点是快速发布补丁，并将更改与主分支合并，而无需等待下一个版本。
    - 开发分支


# 二、Git使用
> 系统：mac venture 13.1

**1. 下载git客户端工具**
下载链接:[单击下载](https://www.sourcetreeapp.com)
![](03.png)

**2. 建立本地存储库**
![](04.png)
- 上传到本地存储库使用``commit`命令`

**3. 链接远程存储库**
- 默认情况下将会使用“origin”作为远程存储库。因为惯例通常使用“origin”作为远程名称
![](05.png)

**4. 上传到远程存储库**
- 使用``push``命令

**5. 复制远程数据库**
- 从URL克隆
![](06.png)
- 注意：克隆的本地库也可以将更改上传到远程存储库

**6. 从远程数据库拉取**
- 为了保持本地库的最新状态，使用``pull``命令将远程存储库更新到本地

**7. 解决冲突**
- 如果本地仓库1上传了新的文件，本地仓库2再想上传，就会报错
- 解决方法：
    - 本地仓库2首现拉取远程库的更改
    - 选择更改的文件使用``merge``命令
    - 手动在合并的文件中解决冲突
    - 再次上传，不会报错（上传的是解决完冲突的文件）

> 总结：总体来说，个人目前存储hexo个人博客网站框架的需求，学到这里已经足够了，未来遇到更高级的需求的时候
肯定还需要继续深入学习，那就是后话了。

## 学习链接
[1. VScode上使用git](https://www.youtube.com/watch?v=i_23KUAEtUM)
[2. fatal: Need to specify how to reconcile divergent branches.](https://blog.csdn.net/qq_45677671/article/details/122574671)